2021-01-17_01:44:35.82602 {"timestamp":"2021-01-17T01:44:34.929Z","pid":1314,"message":"Puma starting in cluster mode..."}
2021-01-17_01:44:35.82607 {"timestamp":"2021-01-17T01:44:34.929Z","pid":1314,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:44:35.82607 {"timestamp":"2021-01-17T01:44:34.929Z","pid":1314,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:44:35.82607 {"timestamp":"2021-01-17T01:44:34.929Z","pid":1314,"message":"* Environment: production"}
2021-01-17_01:44:35.82608 {"timestamp":"2021-01-17T01:44:34.929Z","pid":1314,"message":"* Process workers: 16"}
2021-01-17_01:44:35.82608 {"timestamp":"2021-01-17T01:44:34.929Z","pid":1314,"message":"* Preloading application"}
2021-01-17_01:44:42.91694 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:44:43.43732 {"timestamp":"2021-01-17T01:44:43.437Z","pid":1314,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:44:43.43737 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:44:43.43740 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:44:43.43740   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:44:43.43740   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:44:43.43741   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:44:43.43741   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:44:43.43741   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:44:43.43741   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:44:43.43741   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:44:43.43741   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:44:43.43742   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:44:43.43742   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:44:43.43742   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:44:43.43742   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:44:43.43743   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:44:43.43743   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:44:43.43743   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:44:43.43743   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:44:43.43743   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:44:43.43744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:44:43.43744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:44:43.43744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:44:43.43744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:44:43.43744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:44:43.43746   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:44:43.43746   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:44:43.43746   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:44:43.43746   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:44:43.43747   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:44:43.43747   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:44:43.43747   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:44:43.43747   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:44:43.43748   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:44:43.43748   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:44:43.43748   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:44:43.43748   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:44:43.43748   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:44:43.43749   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:44:43.43749   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:44:43.43749   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:44:43.43749   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:44:43.43750   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:44:43.43750   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:44:43.43750   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:44:43.43750   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:44:43.43750   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:44:43.43750   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:44:43.43751   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:44:43.43751   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:44:43.43751   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:44:43.43751   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:44:43.43752   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:44:43.43752   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:44:43.43752   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:44:43.43752   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:44:43.43752   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:44:43.43753   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:44:43.43753   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:44:43.43753   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:44:43.43753   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:44:43.43753   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:44:43.43753   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:44:43.43754   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:44:43.43754   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:44:43.43754   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:44:43.43754   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:44:43.43754   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:44:43.43755   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:44:43.43755   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:44:43.43755   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:44:43.43755   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:44:43.43755   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:44:43.43755   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:44:43.43756   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:44:44.06496 {"timestamp":"2021-01-17T01:44:44.064Z","pid":1411,"message":"Puma starting in cluster mode..."}
2021-01-17_01:44:44.06498 {"timestamp":"2021-01-17T01:44:44.064Z","pid":1411,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:44:44.06499 {"timestamp":"2021-01-17T01:44:44.064Z","pid":1411,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:44:44.06499 {"timestamp":"2021-01-17T01:44:44.064Z","pid":1411,"message":"* Environment: production"}
2021-01-17_01:44:44.06500 {"timestamp":"2021-01-17T01:44:44.064Z","pid":1411,"message":"* Process workers: 16"}
2021-01-17_01:44:44.06500 {"timestamp":"2021-01-17T01:44:44.064Z","pid":1411,"message":"* Preloading application"}
2021-01-17_01:44:53.29020 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:44:53.68313 {"timestamp":"2021-01-17T01:44:53.683Z","pid":1411,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:44:53.68316 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:44:53.68319 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:44:53.68319   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:44:53.68320   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:44:53.68321   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:44:53.68321   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:44:53.68321   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:44:53.68321   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:44:53.68321   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:44:53.68322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:44:53.68322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:44:53.68322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:44:53.68322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:44:53.68323   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:44:53.68323   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:44:53.68323   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:44:53.68324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:44:53.68324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:44:53.68324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:44:53.68324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:44:53.68325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:44:53.68325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:44:53.68325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:44:53.68325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:44:53.68326   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:44:53.68326   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:44:53.68326   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:44:53.68327   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:44:53.68327   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:44:53.68327   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:44:53.68327   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:44:53.68328   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:44:53.68328   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:44:53.68329   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:44:53.68329   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:44:53.68329   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:44:53.68330   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:44:53.68330   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:44:53.68330   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:44:53.68330   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:44:53.68331   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:44:53.68331   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:44:53.68331   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:44:53.68332   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:44:53.68332   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:44:53.68332   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:44:53.68332   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:44:53.68333   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:44:53.68333   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:44:53.68333   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:44:53.68333   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:44:53.68334   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:44:53.68334   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:44:53.68334   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:44:53.68334   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:44:53.68335   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:44:53.68335   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:44:53.68335   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:44:53.68335   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:44:53.68336   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:44:53.68336   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:44:53.68336   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:44:53.68336   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:44:53.68337   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:44:53.68337   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:44:53.68337   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:44:53.68337   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:44:53.68338   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:44:53.68338   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:44:53.68338   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:44:53.68339   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:44:53.68339   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:44:53.68339   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:44:53.68340   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:44:54.28293 {"timestamp":"2021-01-17T01:44:54.282Z","pid":1595,"message":"Puma starting in cluster mode..."}
2021-01-17_01:44:54.28294 {"timestamp":"2021-01-17T01:44:54.282Z","pid":1595,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:44:54.28295 {"timestamp":"2021-01-17T01:44:54.282Z","pid":1595,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:44:54.28297 {"timestamp":"2021-01-17T01:44:54.282Z","pid":1595,"message":"* Environment: production"}
2021-01-17_01:44:54.28298 {"timestamp":"2021-01-17T01:44:54.282Z","pid":1595,"message":"* Process workers: 16"}
2021-01-17_01:44:54.28299 {"timestamp":"2021-01-17T01:44:54.282Z","pid":1595,"message":"* Preloading application"}
2021-01-17_01:45:03.72735 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:45:04.22059 {"timestamp":"2021-01-17T01:45:04.220Z","pid":1595,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:45:04.22061 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:45:04.22064 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:45:04.22064   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:45:04.22064   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:45:04.22065   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:45:04.22065   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:45:04.22065   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:45:04.22065   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:45:04.22066   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:45:04.22066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:45:04.22066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:45:04.22066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:45:04.22067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:45:04.22067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:45:04.22068   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:45:04.22068   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:45:04.22068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:45:04.22068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:45:04.22070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:45:04.22070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:45:04.22070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:45:04.22071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:45:04.22071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:45:04.22071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:45:04.22072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:45:04.22072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:45:04.22072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:45:04.22072   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:45:04.22073   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:04.22073   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:45:04.22073   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:45:04.22073   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:04.22074   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:45:04.22074   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:45:04.22074   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:45:04.22075   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:45:04.22075   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:45:04.22075   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:45:04.22076   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:45:04.22076   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:45:04.22076   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:45:04.22077   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:45:04.22077   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:45:04.22077   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:45:04.22077   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:45:04.22078   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:45:04.22078   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:45:04.22078   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:45:04.22079   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:45:04.22079   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:45:04.22079   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:45:04.22080   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:45:04.22080   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:45:04.22080   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:45:04.22080   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:45:04.22081   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:45:04.22081   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:45:04.22081   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:45:04.22081   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:45:04.22082   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:45:04.22082   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:45:04.22082   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:45:04.22082   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:45:04.22083   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:45:04.22083   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:45:04.22083   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:45:04.22084   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:45:04.22084   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:45:04.22084   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:45:04.22084   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:45:04.22085   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:45:04.22085   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:45:04.22085   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:45:04.22086   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:45:04.85473 {"timestamp":"2021-01-17T01:45:04.854Z","pid":1692,"message":"Puma starting in cluster mode..."}
2021-01-17_01:45:04.85474 {"timestamp":"2021-01-17T01:45:04.854Z","pid":1692,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:45:04.85475 {"timestamp":"2021-01-17T01:45:04.854Z","pid":1692,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:45:04.85475 {"timestamp":"2021-01-17T01:45:04.854Z","pid":1692,"message":"* Environment: production"}
2021-01-17_01:45:04.85476 {"timestamp":"2021-01-17T01:45:04.854Z","pid":1692,"message":"* Process workers: 16"}
2021-01-17_01:45:04.85476 {"timestamp":"2021-01-17T01:45:04.854Z","pid":1692,"message":"* Preloading application"}
2021-01-17_01:45:13.30918 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:45:13.82397 {"timestamp":"2021-01-17T01:45:13.823Z","pid":1692,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:45:13.82399 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:45:13.82400 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:45:13.82401   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:45:13.82401   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:45:13.82401   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:45:13.82401   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:45:13.82402   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:45:13.82402   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:45:13.82402   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:45:13.82402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:45:13.82403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:45:13.82403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:45:13.82403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:45:13.82403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:45:13.82404   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:45:13.82404   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:45:13.82404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:45:13.82405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:45:13.82405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:45:13.82405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:45:13.82405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:45:13.82405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:45:13.82406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:45:13.82406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:45:13.82407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:45:13.82407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:45:13.82407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:45:13.82407   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:45:13.82408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:13.82408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:45:13.82408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:45:13.82409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:13.82410   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:45:13.82410   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:45:13.82410   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:45:13.82411   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:45:13.82411   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:45:13.82411   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:45:13.82411   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:45:13.82412   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:45:13.82412   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:45:13.82412   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:45:13.82413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:45:13.82413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:45:13.82413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:45:13.82413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:45:13.82414   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:45:13.82414   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:45:13.82414   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:45:13.82414   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:45:13.82415   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:45:13.82415   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:45:13.82415   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:45:13.82416   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:45:13.82416   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:45:13.82416   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:45:13.82416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:45:13.82416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:45:13.82417   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:45:13.82417   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:45:13.82417   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:45:13.82417   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:45:13.82418   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:45:13.82419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:45:13.82419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:45:13.82419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:45:13.82419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:45:13.82419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:45:13.82420   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:45:13.82420   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:45:13.82420   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:45:13.82420   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:45:13.82421   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:45:13.82421   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:45:14.46891 {"timestamp":"2021-01-17T01:45:14.468Z","pid":1785,"message":"Puma starting in cluster mode..."}
2021-01-17_01:45:14.46893 {"timestamp":"2021-01-17T01:45:14.468Z","pid":1785,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:45:14.46894 {"timestamp":"2021-01-17T01:45:14.468Z","pid":1785,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:45:14.46894 {"timestamp":"2021-01-17T01:45:14.468Z","pid":1785,"message":"* Environment: production"}
2021-01-17_01:45:14.46894 {"timestamp":"2021-01-17T01:45:14.468Z","pid":1785,"message":"* Process workers: 16"}
2021-01-17_01:45:14.46895 {"timestamp":"2021-01-17T01:45:14.468Z","pid":1785,"message":"* Preloading application"}
2021-01-17_01:45:23.68507 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:45:24.10798 {"timestamp":"2021-01-17T01:45:24.107Z","pid":1785,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:45:24.10800 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:45:24.10802 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:45:24.10803   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:45:24.10803   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:45:24.10803   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:45:24.10803   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:45:24.10804   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:45:24.10804   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:45:24.10804   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:45:24.10804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:45:24.10804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:45:24.10805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:45:24.10805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:45:24.10806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:45:24.10807   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:45:24.10807   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:45:24.10807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:45:24.10808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:45:24.10808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:45:24.10808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:45:24.10808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:45:24.10808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:45:24.10809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:45:24.10809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:45:24.10810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:45:24.10810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:45:24.10810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:45:24.10810   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:45:24.10811   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:24.10811   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:45:24.10811   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:45:24.10811   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:24.10812   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:45:24.10812   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:45:24.10812   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:45:24.10813   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:45:24.10813   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:45:24.10813   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:45:24.10813   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:45:24.10814   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:45:24.10814   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:45:24.10814   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:45:24.10815   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:45:24.10815   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:45:24.10815   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:45:24.10816   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:45:24.10816   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:45:24.10816   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:45:24.10816   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:45:24.10817   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:45:24.10817   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:45:24.10817   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:45:24.10818   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:45:24.10818   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:45:24.10818   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:45:24.10818   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:45:24.10818   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:45:24.10819   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:45:24.10819   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:45:24.10819   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:45:24.10819   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:45:24.10820   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:45:24.10820   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:45:24.10820   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:45:24.10821   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:45:24.10821   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:45:24.10821   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:45:24.10821   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:45:24.10822   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:45:24.10822   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:45:24.10822   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:45:24.10822   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:45:24.10823   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:45:24.10823   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:45:24.65721 {"timestamp":"2021-01-17T01:45:24.657Z","pid":1871,"message":"Puma starting in cluster mode..."}
2021-01-17_01:45:24.65723 {"timestamp":"2021-01-17T01:45:24.657Z","pid":1871,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:45:24.65724 {"timestamp":"2021-01-17T01:45:24.657Z","pid":1871,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:45:24.65725 {"timestamp":"2021-01-17T01:45:24.657Z","pid":1871,"message":"* Environment: production"}
2021-01-17_01:45:24.65726 {"timestamp":"2021-01-17T01:45:24.657Z","pid":1871,"message":"* Process workers: 16"}
2021-01-17_01:45:24.65726 {"timestamp":"2021-01-17T01:45:24.657Z","pid":1871,"message":"* Preloading application"}
2021-01-17_01:45:34.20462 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:45:34.68047 {"timestamp":"2021-01-17T01:45:34.680Z","pid":1871,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:45:34.68049 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:45:34.68052 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:45:34.68053   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:45:34.68053   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:45:34.68053   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:45:34.68053   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:45:34.68053   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:45:34.68054   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:45:34.68054   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:45:34.68054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:45:34.68054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:45:34.68054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:45:34.68055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:45:34.68055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:45:34.68055   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:45:34.68055   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:45:34.68056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:45:34.68056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:45:34.68056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:45:34.68056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:45:34.68056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:45:34.68057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:45:34.68057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:45:34.68057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:45:34.68057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:45:34.68058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:45:34.68059   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:45:34.68059   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:45:34.68059   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:34.68059   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:45:34.68060   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:45:34.68060   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:34.68060   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:45:34.68060   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:45:34.68061   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:45:34.68061   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:45:34.68061   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:45:34.68061   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:45:34.68061   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:45:34.68062   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:45:34.68062   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:45:34.68062   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:45:34.68062   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:45:34.68063   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:45:34.68063   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:45:34.68063   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:45:34.68063   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:45:34.68063   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:45:34.68063   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:45:34.68064   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:45:34.68064   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:45:34.68064   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:45:34.68064   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:45:34.68064   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:45:34.68065   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:45:34.68065   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:45:34.68065   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:45:34.68065   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:45:34.68066   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:45:34.68066   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:45:34.68066   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:45:34.68066   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:45:34.68066   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:45:34.68067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:45:34.68067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:45:34.68067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:45:34.68067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:45:34.68067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:45:34.68067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:45:34.68068   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:45:34.68068   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:45:34.68068   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:45:34.68068   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:45:34.68069   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:45:35.30835 {"timestamp":"2021-01-17T01:45:35.308Z","pid":1985,"message":"Puma starting in cluster mode..."}
2021-01-17_01:45:35.30836 {"timestamp":"2021-01-17T01:45:35.308Z","pid":1985,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:45:35.30837 {"timestamp":"2021-01-17T01:45:35.308Z","pid":1985,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:45:35.30837 {"timestamp":"2021-01-17T01:45:35.308Z","pid":1985,"message":"* Environment: production"}
2021-01-17_01:45:35.30837 {"timestamp":"2021-01-17T01:45:35.308Z","pid":1985,"message":"* Process workers: 16"}
2021-01-17_01:45:35.30838 {"timestamp":"2021-01-17T01:45:35.308Z","pid":1985,"message":"* Preloading application"}
2021-01-17_01:45:43.80850 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:45:44.30393 {"timestamp":"2021-01-17T01:45:44.303Z","pid":1985,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:45:44.30395 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:45:44.30397 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:45:44.30398   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:45:44.30398   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:45:44.30398   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:45:44.30398   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:45:44.30400   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:45:44.30400   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:45:44.30400   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:45:44.30400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:45:44.30401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:45:44.30401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:45:44.30401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:45:44.30401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:45:44.30402   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:45:44.30402   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:45:44.30402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:45:44.30403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:45:44.30403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:45:44.30403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:45:44.30403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:45:44.30404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:45:44.30404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:45:44.30404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:45:44.30405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:45:44.30405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:45:44.30405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:45:44.30405   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:45:44.30406   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:44.30406   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:45:44.30406   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:45:44.30406   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:44.30407   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:45:44.30407   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:45:44.30408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:45:44.30408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:45:44.30408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:45:44.30409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:45:44.30409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:45:44.30409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:45:44.30409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:45:44.30410   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:45:44.30410   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:45:44.30410   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:45:44.30411   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:45:44.30411   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:45:44.30411   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:45:44.30411   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:45:44.30412   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:45:44.30412   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:45:44.30412   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:45:44.30413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:45:44.30413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:45:44.30413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:45:44.30413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:45:44.30413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:45:44.30414   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:45:44.30414   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:45:44.30414   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:45:44.30414   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:45:44.30415   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:45:44.30415   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:45:44.30415   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:45:44.30416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:45:44.30416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:45:44.30416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:45:44.30416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:45:44.30416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:45:44.30417   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:45:44.30417   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:45:44.30417   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:45:44.30418   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:45:44.30418   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:45:44.30419   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:45:44.96543 {"timestamp":"2021-01-17T01:45:44.965Z","pid":2109,"message":"Puma starting in cluster mode..."}
2021-01-17_01:45:44.96545 {"timestamp":"2021-01-17T01:45:44.965Z","pid":2109,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:45:44.96546 {"timestamp":"2021-01-17T01:45:44.965Z","pid":2109,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:45:44.96546 {"timestamp":"2021-01-17T01:45:44.965Z","pid":2109,"message":"* Environment: production"}
2021-01-17_01:45:44.96546 {"timestamp":"2021-01-17T01:45:44.965Z","pid":2109,"message":"* Process workers: 16"}
2021-01-17_01:45:44.96547 {"timestamp":"2021-01-17T01:45:44.965Z","pid":2109,"message":"* Preloading application"}
2021-01-17_01:45:54.41555 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:45:54.78051 {"timestamp":"2021-01-17T01:45:54.780Z","pid":2109,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:45:54.78054 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:45:54.78056 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:45:54.78056   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:45:54.78056   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:45:54.78057   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:45:54.78057   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:45:54.78057   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:45:54.78057   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:45:54.78058   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:45:54.78058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:45:54.78058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:45:54.78058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:45:54.78059   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:45:54.78059   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:45:54.78060   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:45:54.78060   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:45:54.78060   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:45:54.78061   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:45:54.78061   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:45:54.78061   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:45:54.78061   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:45:54.78063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:45:54.78063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:45:54.78063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:45:54.78064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:45:54.78064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:45:54.78064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:45:54.78065   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:45:54.78065   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:54.78065   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:45:54.78065   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:45:54.78066   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:45:54.78066   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:45:54.78066   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:45:54.78067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:45:54.78067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:45:54.78067   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:45:54.78068   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:45:54.78068   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:45:54.78068   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:45:54.78068   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:45:54.78069   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:45:54.78069   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:45:54.78069   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:45:54.78070   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:45:54.78070   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:45:54.78070   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:45:54.78070   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:45:54.78071   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:45:54.78071   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:45:54.78071   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:45:54.78072   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:45:54.78072   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:45:54.78072   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:45:54.78073   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:45:54.78073   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:45:54.78073   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:45:54.78073   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:45:54.78073   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:45:54.78074   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:45:54.78074   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:45:54.78074   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:45:54.78074   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:45:54.78075   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:45:54.78075   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:45:54.78075   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:45:54.78076   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:45:54.78076   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:45:54.78076   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:45:54.78076   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:45:54.78077   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:45:54.78077   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:45:54.78077   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:45:54.78078   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:45:55.33530 {"timestamp":"2021-01-17T01:45:55.335Z","pid":2246,"message":"Puma starting in cluster mode..."}
2021-01-17_01:45:55.33531 {"timestamp":"2021-01-17T01:45:55.335Z","pid":2246,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:45:55.33532 {"timestamp":"2021-01-17T01:45:55.335Z","pid":2246,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:45:55.33533 {"timestamp":"2021-01-17T01:45:55.335Z","pid":2246,"message":"* Environment: production"}
2021-01-17_01:45:55.33533 {"timestamp":"2021-01-17T01:45:55.335Z","pid":2246,"message":"* Process workers: 16"}
2021-01-17_01:45:55.33533 {"timestamp":"2021-01-17T01:45:55.335Z","pid":2246,"message":"* Preloading application"}
2021-01-17_01:46:05.00484 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:46:05.52986 {"timestamp":"2021-01-17T01:46:05.529Z","pid":2246,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:46:05.52989 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:46:05.52989 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:46:05.52990   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:46:05.52990   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:46:05.52990   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:46:05.52990   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:46:05.52990   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:46:05.52991   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:46:05.52991   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:46:05.52991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:46:05.52991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:46:05.52992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:46:05.52992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:46:05.52992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:46:05.52993   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:46:05.52993   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:46:05.52993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:46:05.52993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:46:05.52994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:46:05.52994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:46:05.52994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:46:05.52994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:46:05.52995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:46:05.52995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:46:05.52995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:46:05.52996   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:46:05.52996   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:46:05.52996   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:46:05.52996   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:05.52997   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:46:05.52997   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:46:05.52997   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:05.52998   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:46:05.52998   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:46:05.52999   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:46:05.52999   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:46:05.52999   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:46:05.52999   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:46:05.53000   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:46:05.53000   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:46:05.53000   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:46:05.53001   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:46:05.53001   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:46:05.53001   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:46:05.53001   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:46:05.53002   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:46:05.53002   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:46:05.53002   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:46:05.53002   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:46:05.53003   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:46:05.53003   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:46:05.53003   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:46:05.53004   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:46:05.53004   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:46:05.53004   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:46:05.53004   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:46:05.53004   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:46:05.53005   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:46:05.53005   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:46:05.53005   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:46:05.53005   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:46:05.53006   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:46:05.53006   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:46:05.53006   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:46:05.53007   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:46:05.53007   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:46:05.53007   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:46:05.53008   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:46:05.53008   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:46:05.53008   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:46:05.53008   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:46:05.53009   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:46:05.53009   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:46:05.53009   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:46:06.20508 {"timestamp":"2021-01-17T01:46:06.205Z","pid":2397,"message":"Puma starting in cluster mode..."}
2021-01-17_01:46:06.20510 {"timestamp":"2021-01-17T01:46:06.205Z","pid":2397,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:46:06.20511 {"timestamp":"2021-01-17T01:46:06.205Z","pid":2397,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:46:06.20511 {"timestamp":"2021-01-17T01:46:06.205Z","pid":2397,"message":"* Environment: production"}
2021-01-17_01:46:06.20511 {"timestamp":"2021-01-17T01:46:06.205Z","pid":2397,"message":"* Process workers: 16"}
2021-01-17_01:46:06.20512 {"timestamp":"2021-01-17T01:46:06.205Z","pid":2397,"message":"* Preloading application"}
2021-01-17_01:46:14.45619 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:46:15.05492 {"timestamp":"2021-01-17T01:46:15.054Z","pid":2397,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:46:15.05494 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:46:15.05496 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:46:15.05497   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:46:15.05497   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:46:15.05497   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:46:15.05498   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:46:15.05498   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:46:15.05498   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:46:15.05498   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:46:15.05499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:46:15.05499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:46:15.05499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:46:15.05499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:46:15.05500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:46:15.05500   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:46:15.05502   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:46:15.05502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:46:15.05502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:46:15.05503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:46:15.05503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:46:15.05503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:46:15.05503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:46:15.05504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:46:15.05504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:46:15.05504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:46:15.05505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:46:15.05505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:46:15.05505   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:46:15.05505   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:15.05506   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:46:15.05506   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:46:15.05506   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:15.05507   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:46:15.05507   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:46:15.05507   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:46:15.05508   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:46:15.05508   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:46:15.05508   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:46:15.05508   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:46:15.05509   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:46:15.05509   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:46:15.05509   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:46:15.05510   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:46:15.05510   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:46:15.05510   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:46:15.05511   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:46:15.05511   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:46:15.05511   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:46:15.05512   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:46:15.05512   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:46:15.05512   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:46:15.05513   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:46:15.05513   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:46:15.05513   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:46:15.05513   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:46:15.05513   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:46:15.05514   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:46:15.05514   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:46:15.05514   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:46:15.05514   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:46:15.05515   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:46:15.05515   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:46:15.05515   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:46:15.05516   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:46:15.05516   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:46:15.05516   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:46:15.05516   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:46:15.05517   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:46:15.05517   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:46:15.05517   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:46:15.05517   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:46:15.05518   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:46:15.05518   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:46:15.05518   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:46:15.75716 {"timestamp":"2021-01-17T01:46:15.757Z","pid":2530,"message":"Puma starting in cluster mode..."}
2021-01-17_01:46:15.75718 {"timestamp":"2021-01-17T01:46:15.757Z","pid":2530,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:46:15.75718 {"timestamp":"2021-01-17T01:46:15.757Z","pid":2530,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:46:15.75719 {"timestamp":"2021-01-17T01:46:15.757Z","pid":2530,"message":"* Environment: production"}
2021-01-17_01:46:15.75719 {"timestamp":"2021-01-17T01:46:15.757Z","pid":2530,"message":"* Process workers: 16"}
2021-01-17_01:46:15.75721 {"timestamp":"2021-01-17T01:46:15.757Z","pid":2530,"message":"* Preloading application"}
2021-01-17_01:46:25.96457 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:46:26.34620 {"timestamp":"2021-01-17T01:46:26.346Z","pid":2530,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:46:26.34622 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:46:26.34625 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:46:26.34625   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:46:26.34625   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:46:26.34626   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:46:26.34626   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:46:26.34626   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:46:26.34626   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:46:26.34626   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:46:26.34627   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:46:26.34627   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:46:26.34627   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:46:26.34627   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:46:26.34628   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:46:26.34628   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:46:26.34628   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:46:26.34629   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:46:26.34629   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:46:26.34629   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:46:26.34629   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:46:26.34630   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:46:26.34630   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:46:26.34630   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:46:26.34630   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:46:26.34631   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:46:26.34631   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:46:26.34631   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:46:26.34632   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:46:26.34633   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:26.34633   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:46:26.34633   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:46:26.34634   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:26.34634   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:46:26.34634   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:46:26.34635   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:46:26.34635   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:46:26.34635   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:46:26.34636   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:46:26.34636   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:46:26.34636   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:46:26.34636   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:46:26.34637   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:46:26.34637   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:46:26.34637   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:46:26.34638   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:46:26.34638   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:46:26.34638   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:46:26.34638   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:46:26.34639   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:46:26.34639   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:46:26.34639   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:46:26.34640   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:46:26.34640   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:46:26.34640   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:46:26.34640   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:46:26.34640   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:46:26.34641   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:46:26.34641   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:46:26.34641   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:46:26.34641   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:46:26.34642   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:46:26.34642   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:46:26.34642   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:46:26.34643   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:46:26.34643   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:46:26.34643   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:46:26.34644   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:46:26.34644   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:46:26.34644   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:46:26.34644   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:46:26.34645   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:46:26.34645   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:46:26.34645   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:46:26.34646   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:46:26.99039 {"timestamp":"2021-01-17T01:46:26.990Z","pid":2656,"message":"Puma starting in cluster mode..."}
2021-01-17_01:46:26.99040 {"timestamp":"2021-01-17T01:46:26.990Z","pid":2656,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:46:26.99041 {"timestamp":"2021-01-17T01:46:26.990Z","pid":2656,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:46:26.99041 {"timestamp":"2021-01-17T01:46:26.990Z","pid":2656,"message":"* Environment: production"}
2021-01-17_01:46:26.99041 {"timestamp":"2021-01-17T01:46:26.990Z","pid":2656,"message":"* Process workers: 16"}
2021-01-17_01:46:26.99042 {"timestamp":"2021-01-17T01:46:26.990Z","pid":2656,"message":"* Preloading application"}
2021-01-17_01:46:37.76826 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:46:38.28393 {"timestamp":"2021-01-17T01:46:38.283Z","pid":2656,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:46:38.28395 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:46:38.28398 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:46:38.28398   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:46:38.28398   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:46:38.28398   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:46:38.28399   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:46:38.28399   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:46:38.28399   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:46:38.28399   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:46:38.28399   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:46:38.28401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:46:38.28401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:46:38.28401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:46:38.28402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:46:38.28402   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:46:38.28402   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:46:38.28403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:46:38.28403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:46:38.28403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:46:38.28403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:46:38.28404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:46:38.28404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:46:38.28404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:46:38.28404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:46:38.28405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:46:38.28405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:46:38.28406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:46:38.28406   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:46:38.28406   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:38.28406   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:46:38.28407   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:46:38.28407   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:38.28407   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:46:38.28408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:46:38.28408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:46:38.28408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:46:38.28408   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:46:38.28409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:46:38.28409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:46:38.28409   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:46:38.28410   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:46:38.28412   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:46:38.28412   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:46:38.28412   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:46:38.28413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:46:38.28413   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:46:38.28413   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:46:38.28414   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:46:38.28414   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:46:38.28414   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:46:38.28414   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:46:38.28415   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:46:38.28415   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:46:38.28415   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:46:38.28416   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:46:38.28416   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:46:38.28416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:46:38.28416   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:46:38.28417   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:46:38.28417   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:46:38.28417   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:46:38.28417   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:46:38.28417   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:46:38.28418   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:46:38.28418   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:46:38.28418   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:46:38.28419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:46:38.28419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:46:38.28419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:46:38.28419   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:46:38.28420   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:46:38.28420   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:46:38.28420   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:46:38.28421   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2021-01-17_01:46:38.93325 {"timestamp":"2021-01-17T01:46:38.933Z","pid":2797,"message":"Puma starting in cluster mode..."}
2021-01-17_01:46:38.93327 {"timestamp":"2021-01-17T01:46:38.933Z","pid":2797,"message":"* Version 4.3.5.gitlab.3 (ruby 2.7.2-p137), codename: Mysterious Traveller"}
2021-01-17_01:46:38.93327 {"timestamp":"2021-01-17T01:46:38.933Z","pid":2797,"message":"* Min threads: 4, max threads: 4"}
2021-01-17_01:46:38.93328 {"timestamp":"2021-01-17T01:46:38.933Z","pid":2797,"message":"* Environment: production"}
2021-01-17_01:46:38.93328 {"timestamp":"2021-01-17T01:46:38.933Z","pid":2797,"message":"* Process workers: 16"}
2021-01-17_01:46:38.93328 {"timestamp":"2021-01-17T01:46:38.933Z","pid":2797,"message":"* Preloading application"}
2021-01-17_01:46:49.66620 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2021-01-17_01:46:50.19124 {"timestamp":"2021-01-17T01:46:50.191Z","pid":2797,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2021-01-17_01:46:50.19126 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2021-01-17_01:46:50.19128 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2021-01-17_01:46:50.19129   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `initialize'
2021-01-17_01:46:50.19129   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open'
2021-01-17_01:46:50.19129   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:95:in `open_logfile'
2021-01-17_01:46:50.19130   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:86:in `set_dev'
2021-01-17_01:46:50.19130   /opt/gitlab/embedded/lib/ruby/2.7.0/logger/log_device.rb:18:in `initialize'
2021-01-17_01:46:50.19130   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `new'
2021-01-17_01:46:50.19130   /opt/gitlab/embedded/lib/ruby/2.7.0/logger.rb:389:in `initialize'
2021-01-17_01:46:50.19131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2021-01-17_01:46:50.19131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2021-01-17_01:46:50.19131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2021-01-17_01:46:50.19132   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2021-01-17_01:46:50.19132   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2021-01-17_01:46:50.19132   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2021-01-17_01:46:50.19133   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2021-01-17_01:46:50.19133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2021-01-17_01:46:50.19133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2021-01-17_01:46:50.19134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2021-01-17_01:46:50.19134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2021-01-17_01:46:50.19134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2021-01-17_01:46:50.19134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2021-01-17_01:46:50.19135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2021-01-17_01:46:50.19136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2021-01-17_01:46:50.19137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2021-01-17_01:46:50.19137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2021-01-17_01:46:50.19137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2021-01-17_01:46:50.19137   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2021-01-17_01:46:50.19138   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:50.19138   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `block in load'
2021-01-17_01:46:50.19138   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:291:in `load_dependency'
2021-01-17_01:46:50.19138   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/dependencies.rb:318:in `load'
2021-01-17_01:46:50.19139   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:666:in `block in load_config_initializer'
2021-01-17_01:46:50.19139   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.3/lib/active_support/notifications.rb:182:in `instrument'
2021-01-17_01:46:50.19139   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:665:in `load_config_initializer'
2021-01-17_01:46:50.19140   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2021-01-17_01:46:50.19140   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `each'
2021-01-17_01:46:50.19141   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/engine.rb:624:in `block in <class:Engine>'
2021-01-17_01:46:50.19142   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `instance_exec'
2021-01-17_01:46:50.19142   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:32:in `run'
2021-01-17_01:46:50.19142   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:61:in `block in run_initializers'
2021-01-17_01:46:50.19143   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:228:in `block in tsort_each'
2021-01-17_01:46:50.19144   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2021-01-17_01:46:50.19144   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2021-01-17_01:46:50.19144   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:431:in `each_strongly_connected_component_from'
2021-01-17_01:46:50.19144   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2021-01-17_01:46:50.19145   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `each'
2021-01-17_01:46:50.19145   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:50:in `tsort_each_child'
2021-01-17_01:46:50.19145   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `call'
2021-01-17_01:46:50.19145   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:415:in `each_strongly_connected_component_from'
2021-01-17_01:46:50.19146   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:349:in `block in each_strongly_connected_component'
2021-01-17_01:46:50.19146   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each'
2021-01-17_01:46:50.19146   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `call'
2021-01-17_01:46:50.19147   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:347:in `each_strongly_connected_component'
2021-01-17_01:46:50.19147   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:226:in `tsort_each'
2021-01-17_01:46:50.19148   /opt/gitlab/embedded/lib/ruby/2.7.0/tsort.rb:205:in `tsort_each'
2021-01-17_01:46:50.19148   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/initializable.rb:60:in `run_initializers'
2021-01-17_01:46:50.19148   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/application.rb:363:in `initialize!'
2021-01-17_01:46:50.19148   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2021-01-17_01:46:50.19149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2021-01-17_01:46:50.19149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2021-01-17_01:46:50.19149   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `eval'
2021-01-17_01:46:50.19149   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:116:in `new_from_string'
2021-01-17_01:46:50.19150   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:105:in `load_file'
2021-01-17_01:46:50.19150   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/builder.rb:66:in `parse_file'
2021-01-17_01:46:50.19150   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2021-01-17_01:46:50.19151   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2021-01-17_01:46:50.19151   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2021-01-17_01:46:50.19151   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2021-01-17_01:46:50.19151   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2021-01-17_01:46:50.19152   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2021-01-17_01:46:50.19152   /opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2021-01-17_01:46:50.19152   /opt/gitlab/embedded/bin/puma:23:in `load'
2021-01-17_01:46:50.19153   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
